<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    
    <link rel="stylesheet" href="C:\Users\91700\OneDrive\Desktop\MINOR PROJECT 2024\RaktaMitra\index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jaro:opsz@6..72&family=Redressed&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="login.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

</head>
<body>
    <header>
        <div id="navbar">
          <div id="app-name">
            <a href="javascript:void(0)" onclick="openNav()"
              ><i id="hamburger" class="fa-solid fa-bars"></i
            ></a>
            RaktaMitra
          </div>
          <div id="nav-gap"></div>
          <div id="nav-sec2">
            <div class="nav"><a href="index.html">Home</a></div>
            <div class="nav"><a href="#footer">About us</a></div>
            <div class="nav"><a href="faq.html">FAQ</a></div>
            <div id="login-sign-but">
              <button id="login-signup-but">
                <a href="login.html">Log In</a> /
                <a href="Registration.html">Sign Up</a>
              </button>
            </div>
          </div>
        </div>
      </header>
    <!-- Side bar -->
    <div id="side-nav" class="side-nav">
        <div class="side-nav-top">
            <h3 class="side-nav-title">RaktaMitra</h3>
        </div>
        <a href="viewProfile.html"><i class="fa-solid fa-user"></i> View Profile</a>
        <a href="generateRequest.html"><i class="fa-solid fa-hand-holding-medical"></i> Request Blood</a>
        <a href="#footer"><i class="fa-solid fa-info-circle"></i> About Us</a>
        <a href="#"><i class="fa-solid fa-sign-out-alt"></i> Sign Out</a>
    </div>
    <section class="login-section">
        <div class="login-container">
            <h2>Login</h2>
            <form class="login-form" id="loginForm">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" placeholder="Enter your email" required>
    
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" placeholder="Enter your password" required>
    
                <button type="submit">Login</button>
                <p class="signup-link">Don't have an account? <a href="Registration.html">Register here</a>.</p>
            </form>
        </div>
    </section>
    <footer id="footer">
      <div class="footer-container">
          <!-- Left Div -->
          <div class="footer-left">
              <h3>About Raktamitra</h3>
              <p>
                  Raktamitra is a platform dedicated to bridging the gap between blood donors and recipients. 
                  Our mission is to ensure that no one has to wait for life-saving blood in times of need. 
                  Join us and be a part of this noble cause to save lives.
              </p>
          </div>
          <!-- Right Div -->
          <div class="footer-right">
              <h3>Quick Links</h3>
              <ul>
                  <li><a href="faq.html">FAQs</a></li>
                  <li>Contact Us : 0731- 2347222</li>
                  
                  <li><a href="">Know your blood compatibility</a></li>
              </ul>
              <h3>Follow Us</h3>
              <div class="social-icons">
                  <a href="#"><i class="fab fa-facebook-f"></i></a>
                  <a href="#"><i class="fab fa-twitter"></i></a>
                  <a href="#"><i class="fab fa-instagram"></i></a>
                  <a href="#"><i class="fab fa-linkedin-in"></i></a>
              </div>
          </div>
      </div>
      <hr>
      <p class="copyright">Â© 2024 Raktamitra. All Rights Reserved.</p>
  </footer>
  <script>
    document.getElementById("loginForm").addEventListener("submit", async (e) => {
  e.preventDefault();

  // Manually extract form data into an object
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  const data = {
    email: email,
    password: password,
  };

  console.log("Sending login request:", data);

  // Send data to backend (login API)
  const response = await fetch("http://localhost:5000/api/auth/login", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",  // Ensure the content is in JSON format
    },
    body: JSON.stringify(data),  // Sending login data (email & password) as JSON
  });

  const result = await response.json();
  if (response.ok) {
    alert("Login successful!");
    console.log("Token:", result.token); // Store token for authentication
  } else {
    alert("Error: " + result.message);
  }
  });

  </script>
</body>
</html>